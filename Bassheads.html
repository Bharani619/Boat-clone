<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="styles/footer.css"/>
    <link rel="stylesheet" href="styles/nav.css"/>
    <script src="https://kit.fontawesome.com/fa650845c0.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="styles/product.css">
    <link rel="stylesheet" href="styles/cart.css"/>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300&family=Open+Sans:wght@300&display=swap" rel="stylesheet">
    
</head>
<body>
    <div id="Home-container">    
    <nav>
        <div id="nav-bar"></div>
    </nav>

     <section>
         <div class="coverImage">
             <img src="https://cdn.shopify.com/s/files/1/0057/8938/4802/files/Bassheads-_Catgry_web.jpg?v=1634717143" alt="">
         </div>
     </section>
     
     <section class="page-content">
         <div class="title-bar">
             <p><span onclick="window.location.href='index.html'">Home</span>/Wireless Earphones</p>
         </div>
         <div class="page-header">
             <h3>Wireless Earphones</h3>
         </div>
     </section>


     <section>
         <div class="sort-flex">
             <div class="sort-head">
                 <p>SORT BY</p>
             </div>
            <div id="sort-buttons">
                <select id="sort-lh-sort-hl" onchange="sort()">
                    <option value="">Featured</option>
                    <option value="low">Low to High</option>
                    <option value="high">High to Low</option>
                </select>
            </div>
         </div>

         <div class="productContainer">

         </div>
     </section>

     <section>
         <div class="product-blog">
             <div class="prod-blog-div">
                 <div class="blog-card">
                     <div class="cardImg">
                         <img src="https://cdn.shopify.com/s/files/1/0057/8938/4802/articles/Earphone_cf76a9b7-42c7-4e2b-83cc-996042e6fd3c.jpg?v=1616771185" alt="">
                     </div>
                     <div class="cardcontent">
                         <p>Earphones Buying Guide - Everything you Need to Know</p>
                         <div class="card-btn">
                            <button>Read More</button>
                        </div>  
                        </div>
                 </div>

                 <div class="blog-card">
                    <div class="cardImg">
                        <img src="https://cdn.shopify.com/s/files/1/0057/8938/4802/articles/The-New-Fitness-Statement_1.jpg?v=1615747273" alt="">
                    </div>
                    <div class="cardcontent">
                        <p>No Strings With These Wireless Earphones Under 2000!</p>
                        <div class="card-btn">
                            <button>Read More</button>
                        </div>
                    </div>
                </div>

                <div class="blog-card">
                    <div class="cardImg">
                        <img src="https://cdn.shopify.com/s/files/1/0057/8938/4802/articles/Blog-Posts-27-11.jpg?v=1606477645" alt="">
                    </div>
                    <div class="cardcontent">
                        <p>5 Reasons To Switch To A Pair Of Wireless Earphones</p>
                        <div class="card-btn">
                            <button>Read More</button>
                        </div>
                    </div>
                </div>
             </div>
         </div>
     </section>

    <footer>
        <div id="footer"></div>
    </footer>
</div>
    <section class="sidebar-main">
        <div class="sibebar-container">
            <div class="sidebar-head">
                <p>Free shipping | COD available on orders above $3000</p>
            </div>
            <div class="side-btn-content">
                <div class="side-btn">
                    <i class="fas fa-angle-left"></i>
                </div>
                
                <div class="cart-count"></div>
            </div>
            <div class="sidebar-prod-container">
                     
            </div>
            <div class="divide-line"></div>
            <div class="lower-container">
                 <div class="promo-tag">
                     <h4>PROMO CODE</h4>
                 </div>
                 <div class="promo-content">
                     <input type="text" placeholder="Enter Coupon Code" id="promoInput"> 
                     <button class="apply-btn">Apply</button>
                 </div>
                 <div class="subtotal">
                     <p>Subtotal:</p>
                     <p class="total-price"></p>
                 </div>
                 <div class="shipping-cart">
                    <p>Shipping:</p>
                    <p>FREE</p>
                </div>
                <div class="block-line">
                    <p>Or 30 interest-free payment 0f $4165 with<span><img src="https://assets.zestmoney.in/assets/widget/zest-logo-name-info.svg" alt=""></span></p>
                </div>
                <div class="cart-payment">
                    <div class="btn-upi">
                        <button onclick="window.location.href='checkout.html'">Pay Via UPI</button>
                    </div>
                    <div class="btn-card">
                        <button onclick="window.location.href='checkout.html'">Pay Via Card</button>
                    </div>
                </div>

            </div>
        </div>
    </section>
</body>
</html>

<script src="data.js"></script>
<script type="module">

import navbar from "./components/nav.js";
    
import footer from "./components/footer.js";

import {getData,renderData} from "./scripts/DynamicFunc.js";

import {retriveData,appendData} from "./scripts/cart.js";

    let parent = document.querySelector(".productContainer");
    
    let parent1 = document.querySelector(".sidebar-prod-container");

    let Nav = document.querySelector("#nav-bar");
    Nav.innerHTML=navbar();
    
    let Footer = document.querySelector("#footer");
    Footer.innerHTML=footer();  

    let retrivedData = JSON.parse(localStorage.getItem("Bass"));
    let res = getData(retrivedData);

    renderData(res,parent);

    let data = retriveData(JSON.parse(localStorage.getItem("cart")));

appendData(data,parent1);

let cart_btn = document.querySelector(".nav-cart-btn");
let cart = document.querySelector(".sidebar-main");
let cart_back = document.querySelector(".side-btn");
let Homecontainer = document.querySelector("#Home-container");

    
cart_btn.onclick = ()=> {
    Homecontainer.setAttribute("class","activeOnblur")
    cart.classList.add("active");
}

cart_back.onclick =()=> {
    Homecontainer.setAttribute("class","activeofblur")
    cart.classList.remove("active");
}

let product = JSON.parse(localStorage.getItem("Allproducts"));


let value = document.getElementById("searchInput");
value.addEventListener('keypress',searchFunction);

function searchFunction (event) {

  if(event.key=="Enter"){
    
    let searchvalue = document.getElementById("searchInput").value;
    
    let  searchArr = [];

    for(let i=0; i<product.length; i++){
        if(searchvalue===product[i].category){
           searchArr.push(product[i]);
        }
    }
    localStorage.setItem("search",JSON.stringify(searchArr));
    setTimeout(()=> {
        window.location.href="search.html"
    },1000)
    
  }
 
}

let cnt = JSON.parse(localStorage.getItem("Count"));
console.log(cnt);

let carticon = document.querySelector(".count-icon1");
carticon.append(cnt);


</script>